import{i as gn,r as q,o as Ze,w as H,a as b,g as le,a2 as vn,e as mn,R as _n,b as We,U as yn,N as wn,L as xn,d as bn,P as Cn,Q as An,h as x,O as Z,T as Sn,t as $n,M as Nn}from"./index-57RAIp0g.js";import{Q as at}from"./QIcon-Cc8OfBfg.js";import{Q as En}from"./QSpinner-bSmicc2C.js";import{u as kn,a as Rn}from"./use-dark-DsmObZw5.js";import{h as ce}from"./render-CWgEJjHR.js";let qe,he=0;const k=new Array(256);for(let e=0;e<256;e++)k[e]=(e+256).toString(16).substring(1);const qn=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let r=t;r>0;r--)n.push(Math.floor(Math.random()*256));return n}})(),st=4096;function Pe(){(qe===void 0||he+16>st)&&(he=0,qe=qn(st));const e=Array.prototype.slice.call(qe,he,he+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,k[e[0]]+k[e[1]]+k[e[2]]+k[e[3]]+"-"+k[e[4]]+k[e[5]]+"-"+k[e[6]]+k[e[7]]+"-"+k[e[8]]+k[e[9]]+"-"+k[e[10]]+k[e[11]]+k[e[12]]+k[e[13]]+k[e[14]]+k[e[15]]}function Fn(e){return e??null}function ft(e,t){return e??(t===!0?`f_${Pe()}`:null)}function Tn({getValue:e,required:t=!0}={}){if(gn.value===!0){const n=e!==void 0?q(Fn(e())):q(null);return t===!0&&n.value===null&&Ze(()=>{n.value=`f_${Pe()}`}),e!==void 0&&H(e,r=>{n.value=ft(r,t)}),n}return e!==void 0?b(()=>ft(e(),t)):q(`f_${Pe()}`)}const ct=/^on[A-Z]/;function In(){const{attrs:e,vnode:t}=le(),n={listeners:q({}),attributes:q({})};function r(){const i={},o={};for(const u in e)u!=="class"&&u!=="style"&&ct.test(u)===!1&&(i[u]=e[u]);for(const u in t.props)ct.test(u)===!0&&(o[u]=t.props[u]);n.attributes.value=i,n.listeners.value=o}return vn(r),r(),n}function Bn({validate:e,resetValidation:t,requiresQForm:n}){const r=mn(_n,!1);if(r!==!1){const{props:i,proxy:o}=le();Object.assign(o,{validate:e,resetValidation:t}),H(()=>i.disable,u=>{u===!0?(typeof t=="function"&&t(),r.unbindComponent(o)):r.bindComponent(o)}),Ze(()=>{i.disable!==!0&&r.bindComponent(o)}),We(()=>{i.disable!==!0&&r.unbindComponent(o)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const ht=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,dt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,pt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,de=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,pe=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Fe={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ht.test(e),hexaColor:e=>dt.test(e),hexOrHexaColor:e=>pt.test(e),rgbColor:e=>de.test(e),rgbaColor:e=>pe.test(e),rgbOrRgbaColor:e=>de.test(e)||pe.test(e),hexOrRgbColor:e=>ht.test(e)||de.test(e),hexaOrRgbaColor:e=>dt.test(e)||pe.test(e),anyColor:e=>pt.test(e)||de.test(e)||pe.test(e)},Mn=[!0,!1,"ondemand"],Vn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Mn.includes(e)}};function On(e,t){const{props:n,proxy:r}=le(),i=q(!1),o=q(null),u=q(!1);Bn({validate:v,resetValidation:g});let l=0,a;const f=b(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),s=b(()=>n.disable!==!0&&f.value===!0&&t.value===!1),c=b(()=>n.error===!0||i.value===!0),h=b(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:o.value);H(()=>n.modelValue,()=>{u.value=!0,s.value===!0&&n.lazyRules===!1&&y()});function d(){n.lazyRules!=="ondemand"&&s.value===!0&&u.value===!0&&y()}H(()=>n.reactiveRules,m=>{m===!0?a===void 0&&(a=H(()=>n.rules,d,{immediate:!0,deep:!0})):a!==void 0&&(a(),a=void 0)},{immediate:!0}),H(()=>n.lazyRules,d),H(e,m=>{m===!0?u.value=!0:s.value===!0&&n.lazyRules!=="ondemand"&&y()});function g(){l++,t.value=!1,u.value=!1,i.value=!1,o.value=null,y.cancel()}function v(m=n.modelValue){if(n.disable===!0||f.value===!1)return!0;const A=++l,E=t.value!==!0?()=>{u.value=!0}:()=>{},w=(C,$)=>{C===!0&&E(),i.value=C,o.value=$||null,t.value=!1},S=[];for(let C=0;C<n.rules.length;C++){const $=n.rules[C];let N;if(typeof $=="function"?N=$(m,Fe):typeof $=="string"&&Fe[$]!==void 0&&(N=Fe[$](m)),N===!1||typeof N=="string")return w(!0,N),!1;N!==!0&&N!==void 0&&S.push(N)}return S.length===0?(w(!1),!0):(t.value=!0,Promise.all(S).then(C=>{if(C===void 0||Array.isArray(C)===!1||C.length===0)return A===l&&w(!1),!0;const $=C.find(N=>N===!1||typeof N=="string");return A===l&&w($!==void 0,$),$===void 0},C=>(A===l&&(console.error(C),w(!0)),!1)))}const y=yn(v,0);return We(()=>{a!==void 0&&a(),y.cancel()}),Object.assign(r,{resetValidation:g,validate:v}),wn(r,"hasError",()=>c.value),{isDirtyModel:u,hasRules:f,hasError:c,errorMessage:h,validate:v,resetValidation:g}}let L=[],te=[];function Bt(e){te=te.filter(t=>t!==e)}function Yu(e){Bt(e),te.push(e)}function Ku(e){Bt(e),te.length===0&&L.length!==0&&(L[L.length-1](),L=[])}function Dn(e){te.length===0?e():L.push(e)}function Pn(e){L=L.filter(t=>t!==e)}function Hn(e){return e!=null&&(""+e).length!==0}const Ln={...kn,...Vn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Qu={...Ln,maxlength:[Number,String]},Zu=["update:modelValue","clear","focus","blur"];function Wu({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:r,proxy:i}=le(),o=Rn(r,i.$q),u=Tn({required:e,getValue:()=>r.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?b(()=>r.tag):{value:"label"},isDark:o,editable:b(()=>r.disable!==!0&&r.readonly!==!0),innerLoading:q(!1),focused:q(!1),hasPopupOpen:!1,splitAttrs:In(),targetUid:u,rootRef:q(null),targetRef:q(null),controlRef:q(null)}}function Gu(e){const{props:t,emit:n,slots:r,attrs:i,proxy:o}=le(),{$q:u}=o;let l=null;e.hasValue===void 0&&(e.hasValue=b(()=>Hn(t.modelValue))),e.emitValue===void 0&&(e.emitValue=p=>{n("update:modelValue",p)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:rt,onFocusout:it}),Object.assign(e,{clearValue:Re,onControlFocusin:rt,onControlFocusout:it,focus:$}),e.computedCounter===void 0&&(e.computedCounter=b(()=>{if(t.counter!==!1){const p=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,_=t.maxlength!==void 0?t.maxlength:t.maxValues;return p+(_!==void 0?" / "+_:"")}}));const{isDirtyModel:a,hasRules:f,hasError:s,errorMessage:c,resetValidation:h}=On(e.focused,e.innerLoading),d=e.floatingLabel!==void 0?b(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):b(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),g=b(()=>t.bottomSlots===!0||t.hint!==void 0||f.value===!0||t.counter===!0||t.error!==null),v=b(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),y=b(()=>`q-field row no-wrap items-start q-field--${v.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(d.value===!0?" q-field--float":"")+(A.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(s.value===!0?" q-field--error":"")+(s.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&g.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),m=b(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(s.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),A=b(()=>t.labelSlot===!0||t.label!==void 0),E=b(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&s.value!==!0?` text-${t.labelColor}`:"")),w=b(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:d.value,modelValue:t.modelValue,emitValue:e.emitValue})),S=b(()=>{const p={};return e.targetUid.value&&(p.for=e.targetUid.value),t.disable===!0&&(p["aria-disabled"]="true"),p});function C(){const p=document.activeElement;let _=e.targetRef!==void 0&&e.targetRef.value;_&&(p===null||p.id!==e.targetUid.value)&&(_.hasAttribute("tabindex")===!0||(_=_.querySelector("[tabindex]")),_&&_!==p&&_.focus({preventScroll:!0}))}function $(){Dn(C)}function N(){Pn(C);const p=document.activeElement;p!==null&&e.rootRef.value.contains(p)&&p.blur()}function rt(p){l!==null&&(clearTimeout(l),l=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",p))}function it(p,_){l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",p)),_!==void 0&&_())})}function Re(p){xn(p),u.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),bn(()=>{const _=a.value;h(),a.value=_})}function cn(p){[13,32].includes(p.keyCode)&&Re(p)}function hn(){const p=[];return r.prepend!==void 0&&p.push(x("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Z},r.prepend())),p.push(x("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},dn())),s.value===!0&&t.noErrorIcon===!1&&p.push(fe("error",[x(at,{name:u.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?p.push(fe("inner-loading-append",r.loading!==void 0?r.loading():[x(En,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&p.push(fe("inner-clearable-append",[x(at,{class:"q-field__focusable-action",name:t.clearIcon||u.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":u.lang.label.clear,onKeyup:cn,onClick:Re})])),r.append!==void 0&&p.push(x("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Z},r.append())),e.getInnerAppend!==void 0&&p.push(fe("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&p.push(e.getControlChild()),p}function dn(){const p=[];return t.prefix!==void 0&&t.prefix!==null&&p.push(x("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&p.push(e.getShadowControl()),e.getControl!==void 0?p.push(e.getControl()):r.rawControl!==void 0?p.push(r.rawControl()):r.control!==void 0&&p.push(x("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},r.control(w.value))),A.value===!0&&p.push(x("div",{class:E.value},ce(r.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&p.push(x("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),p.concat(ce(r.default))}function pn(){let p,_;s.value===!0?c.value!==null?(p=[x("div",{role:"alert"},c.value)],_=`q--slot-error-${c.value}`):(p=ce(r.error),_="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(p=[x("div",t.hint)],_=`q--slot-hint-${t.hint}`):(p=ce(r.hint),_="q--slot-hint"));const ut=t.counter===!0||r.counter!==void 0;if(t.hideBottomSpace===!0&&ut===!1&&p===void 0)return;const lt=x("div",{key:_,class:"q-field__messages col"},p);return x("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Z},[t.hideBottomSpace===!0?lt:x(Sn,{name:"q-transition--field-message"},()=>lt),ut===!0?x("div",{class:"q-field__counter"},r.counter!==void 0?r.counter():e.computedCounter.value):null])}function fe(p,_){return _===null?null:x("div",{key:p,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},_)}let ot=!1;return Cn(()=>{ot=!0}),An(()=>{ot===!0&&t.autofocus===!0&&o.focus()}),t.autofocus===!0&&Ze(()=>{o.focus()}),We(()=>{l!==null&&clearTimeout(l)}),Object.assign(o,{focus:$,blur:N}),function(){const _=e.getControl===void 0&&r.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...S.value}:S.value;return x(e.tag.value,{ref:e.rootRef,class:[y.value,i.class],style:i.style,..._},[r.before!==void 0?x("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Z},r.before()):null,x("div",{class:"q-field__inner relative-position col self-stretch"},[x("div",{ref:e.controlRef,class:m.value,tabindex:-1,...e.controlEvents},hn()),g.value===!0?pn():null]),r.after!==void 0?x("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Z},r.after()):null])}}var Un={value:()=>{}};function Mt(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _e(n)}function _e(e){this._=e}function Xn(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_e.prototype=Mt.prototype={constructor:_e,on:function(e,t){var n=this._,r=Xn(e+"",n),i,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((i=(e=r[o]).type)&&(i=zn(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<u;)if(i=(e=r[o]).type)n[i]=gt(n[i],e.name,t);else if(t==null)for(i in n)n[i]=gt(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _e(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function zn(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function gt(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Un,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var He="http://www.w3.org/1999/xhtml";const vt={svg:"http://www.w3.org/2000/svg",xhtml:He,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ne(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vt.hasOwnProperty(t)?{space:vt[t],local:e}:e}function Yn(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===He&&t.documentElement.namespaceURI===He?t.createElement(e):t.createElementNS(n,e)}}function Kn(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Vt(e){var t=Ne(e);return(t.local?Kn:Yn)(t)}function Qn(){}function Ge(e){return e==null?Qn:function(){return this.querySelector(e)}}function Zn(e){typeof e!="function"&&(e=Ge(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],u=o.length,l=r[i]=new Array(u),a,f,s=0;s<u;++s)(a=o[s])&&(f=e.call(a,a.__data__,s,o))&&("__data__"in a&&(f.__data__=a.__data__),l[s]=f);return new I(r,this._parents)}function Wn(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Gn(){return[]}function Ot(e){return e==null?Gn:function(){return this.querySelectorAll(e)}}function Jn(e){return function(){return Wn(e.apply(this,arguments))}}function jn(e){typeof e=="function"?e=Jn(e):e=Ot(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var u=t[o],l=u.length,a,f=0;f<l;++f)(a=u[f])&&(r.push(e.call(a,a.__data__,f,u)),i.push(a));return new I(r,i)}function Dt(e){return function(){return this.matches(e)}}function Pt(e){return function(t){return t.matches(e)}}var er=Array.prototype.find;function tr(e){return function(){return er.call(this.children,e)}}function nr(){return this.firstElementChild}function rr(e){return this.select(e==null?nr:tr(typeof e=="function"?e:Pt(e)))}var ir=Array.prototype.filter;function or(){return Array.from(this.children)}function ur(e){return function(){return ir.call(this.children,e)}}function lr(e){return this.selectAll(e==null?or:ur(typeof e=="function"?e:Pt(e)))}function ar(e){typeof e!="function"&&(e=Dt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],u=o.length,l=r[i]=[],a,f=0;f<u;++f)(a=o[f])&&e.call(a,a.__data__,f,o)&&l.push(a);return new I(r,this._parents)}function Ht(e){return new Array(e.length)}function sr(){return new I(this._enter||this._groups.map(Ht),this._parents)}function xe(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}xe.prototype={constructor:xe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fr(e){return function(){return e}}function cr(e,t,n,r,i,o){for(var u=0,l,a=t.length,f=o.length;u<f;++u)(l=t[u])?(l.__data__=o[u],r[u]=l):n[u]=new xe(e,o[u]);for(;u<a;++u)(l=t[u])&&(i[u]=l)}function hr(e,t,n,r,i,o,u){var l,a,f=new Map,s=t.length,c=o.length,h=new Array(s),d;for(l=0;l<s;++l)(a=t[l])&&(h[l]=d=u.call(a,a.__data__,l,t)+"",f.has(d)?i[l]=a:f.set(d,a));for(l=0;l<c;++l)d=u.call(e,o[l],l,o)+"",(a=f.get(d))?(r[l]=a,a.__data__=o[l],f.delete(d)):n[l]=new xe(e,o[l]);for(l=0;l<s;++l)(a=t[l])&&f.get(h[l])===a&&(i[l]=a)}function dr(e){return e.__data__}function pr(e,t){if(!arguments.length)return Array.from(this,dr);var n=t?hr:cr,r=this._parents,i=this._groups;typeof e!="function"&&(e=fr(e));for(var o=i.length,u=new Array(o),l=new Array(o),a=new Array(o),f=0;f<o;++f){var s=r[f],c=i[f],h=c.length,d=gr(e.call(s,s&&s.__data__,f,r)),g=d.length,v=l[f]=new Array(g),y=u[f]=new Array(g),m=a[f]=new Array(h);n(s,c,v,y,m,d,t);for(var A=0,E=0,w,S;A<g;++A)if(w=v[A]){for(A>=E&&(E=A+1);!(S=y[E])&&++E<g;);w._next=S||null}}return u=new I(u,r),u._enter=l,u._exit=a,u}function gr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vr(){return new I(this._exit||this._groups.map(Ht),this._parents)}function mr(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function _r(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,u=Math.min(i,o),l=new Array(i),a=0;a<u;++a)for(var f=n[a],s=r[a],c=f.length,h=l[a]=new Array(c),d,g=0;g<c;++g)(d=f[g]||s[g])&&(h[g]=d);for(;a<i;++a)l[a]=n[a];return new I(l,this._parents)}function yr(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],u;--i>=0;)(u=r[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function wr(e){e||(e=xr);function t(c,h){return c&&h?e(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u=n[o],l=u.length,a=i[o]=new Array(l),f,s=0;s<l;++s)(f=u[s])&&(a[s]=f);a.sort(t)}return new I(i,this._parents).order()}function xr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function br(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Cr(){return Array.from(this)}function Ar(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function Sr(){let e=0;for(const t of this)++e;return e}function $r(){return!this.node()}function Nr(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,u=i.length,l;o<u;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function Er(e){return function(){this.removeAttribute(e)}}function kr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rr(e,t){return function(){this.setAttribute(e,t)}}function qr(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Fr(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Tr(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ir(e,t){var n=Ne(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?kr:Er:typeof t=="function"?n.local?Tr:Fr:n.local?qr:Rr)(n,t))}function Lt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Br(e){return function(){this.style.removeProperty(e)}}function Mr(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Vr(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Or(e,t,n){return arguments.length>1?this.each((t==null?Br:typeof t=="function"?Vr:Mr)(e,t,n??"")):K(this.node(),e)}function K(e,t){return e.style.getPropertyValue(t)||Lt(e).getComputedStyle(e,null).getPropertyValue(t)}function Dr(e){return function(){delete this[e]}}function Pr(e,t){return function(){this[e]=t}}function Hr(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Lr(e,t){return arguments.length>1?this.each((t==null?Dr:typeof t=="function"?Hr:Pr)(e,t)):this.node()[e]}function Ut(e){return e.trim().split(/^|\s+/)}function Je(e){return e.classList||new Xt(e)}function Xt(e){this._node=e,this._names=Ut(e.getAttribute("class")||"")}Xt.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function zt(e,t){for(var n=Je(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Yt(e,t){for(var n=Je(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Ur(e){return function(){zt(this,e)}}function Xr(e){return function(){Yt(this,e)}}function zr(e,t){return function(){(t.apply(this,arguments)?zt:Yt)(this,e)}}function Yr(e,t){var n=Ut(e+"");if(arguments.length<2){for(var r=Je(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?zr:t?Ur:Xr)(n,t))}function Kr(){this.textContent=""}function Qr(e){return function(){this.textContent=e}}function Zr(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Wr(e){return arguments.length?this.each(e==null?Kr:(typeof e=="function"?Zr:Qr)(e)):this.node().textContent}function Gr(){this.innerHTML=""}function Jr(e){return function(){this.innerHTML=e}}function jr(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ei(e){return arguments.length?this.each(e==null?Gr:(typeof e=="function"?jr:Jr)(e)):this.node().innerHTML}function ti(){this.nextSibling&&this.parentNode.appendChild(this)}function ni(){return this.each(ti)}function ri(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ii(){return this.each(ri)}function oi(e){var t=typeof e=="function"?e:Vt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ui(){return null}function li(e,t){var n=typeof e=="function"?e:Vt(e),r=t==null?ui:typeof t=="function"?t:Ge(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ai(){var e=this.parentNode;e&&e.removeChild(this)}function si(){return this.each(ai)}function fi(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ci(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hi(e){return this.select(e?ci:fi)}function di(e){return arguments.length?this.property("__data__",e):this.node().__data__}function pi(e){return function(t){e.call(this,t,this.__data__)}}function gi(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function vi(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function mi(e,t,n){return function(){var r=this.__on,i,o=pi(t);if(r){for(var u=0,l=r.length;u<l;++u)if((i=r[u]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function _i(e,t,n){var r=gi(e+""),i,o=r.length,u;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,f=l.length,s;a<f;++a)for(i=0,s=l[a];i<o;++i)if((u=r[i]).type===s.type&&u.name===s.name)return s.value}return}for(l=t?mi:vi,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function Kt(e,t,n){var r=Lt(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function yi(e,t){return function(){return Kt(this,e,t)}}function wi(e,t){return function(){return Kt(this,e,t.apply(this,arguments))}}function xi(e,t){return this.each((typeof t=="function"?wi:yi)(e,t))}function*bi(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,u;i<o;++i)(u=r[i])&&(yield u)}var Ci=[null];function I(e,t){this._groups=e,this._parents=t}function ae(){return new I([[document.documentElement]],Ci)}function Ai(){return this}I.prototype=ae.prototype={constructor:I,select:Zn,selectAll:jn,selectChild:rr,selectChildren:lr,filter:ar,data:pr,enter:sr,exit:vr,join:mr,merge:_r,selection:Ai,order:yr,sort:wr,call:br,nodes:Cr,node:Ar,size:Sr,empty:$r,each:Nr,attr:Ir,style:Or,property:Lr,classed:Yr,text:Wr,html:ei,raise:ni,lower:ii,append:oi,insert:li,remove:si,clone:hi,datum:di,on:_i,dispatch:xi,[Symbol.iterator]:bi};function je(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Qt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function se(){}var ne=.7,be=1/ne,Y="\\s*([+-]?\\d+)\\s*",re="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",M="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Si=/^#([0-9a-f]{3,8})$/,$i=new RegExp(`^rgb\\(${Y},${Y},${Y}\\)$`),Ni=new RegExp(`^rgb\\(${M},${M},${M}\\)$`),Ei=new RegExp(`^rgba\\(${Y},${Y},${Y},${re}\\)$`),ki=new RegExp(`^rgba\\(${M},${M},${M},${re}\\)$`),Ri=new RegExp(`^hsl\\(${re},${M},${M}\\)$`),qi=new RegExp(`^hsla\\(${re},${M},${M},${re}\\)$`),mt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};je(se,ie,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_t,formatHex:_t,formatHex8:Fi,formatHsl:Ti,formatRgb:yt,toString:yt});function _t(){return this.rgb().formatHex()}function Fi(){return this.rgb().formatHex8()}function Ti(){return Zt(this).formatHsl()}function yt(){return this.rgb().formatRgb()}function ie(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Si.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wt(t):n===3?new F(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ge(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ge(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$i.exec(e))?new F(t[1],t[2],t[3],1):(t=Ni.exec(e))?new F(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ei.exec(e))?ge(t[1],t[2],t[3],t[4]):(t=ki.exec(e))?ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ri.exec(e))?Ct(t[1],t[2]/100,t[3]/100,1):(t=qi.exec(e))?Ct(t[1],t[2]/100,t[3]/100,t[4]):mt.hasOwnProperty(e)?wt(mt[e]):e==="transparent"?new F(NaN,NaN,NaN,0):null}function wt(e){return new F(e>>16&255,e>>8&255,e&255,1)}function ge(e,t,n,r){return r<=0&&(e=t=n=NaN),new F(e,t,n,r)}function Ii(e){return e instanceof se||(e=ie(e)),e?(e=e.rgb(),new F(e.r,e.g,e.b,e.opacity)):new F}function Le(e,t,n,r){return arguments.length===1?Ii(e):new F(e,t,n,r??1)}function F(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}je(F,Le,Qt(se,{brighter(e){return e=e==null?be:Math.pow(be,e),new F(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ne:Math.pow(ne,e),new F(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new F(X(this.r),X(this.g),X(this.b),Ce(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xt,formatHex:xt,formatHex8:Bi,formatRgb:bt,toString:bt}));function xt(){return`#${U(this.r)}${U(this.g)}${U(this.b)}`}function Bi(){return`#${U(this.r)}${U(this.g)}${U(this.b)}${U((isNaN(this.opacity)?1:this.opacity)*255)}`}function bt(){const e=Ce(this.opacity);return`${e===1?"rgb(":"rgba("}${X(this.r)}, ${X(this.g)}, ${X(this.b)}${e===1?")":`, ${e})`}`}function Ce(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function X(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function U(e){return e=X(e),(e<16?"0":"")+e.toString(16)}function Ct(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new T(e,t,n,r)}function Zt(e){if(e instanceof T)return new T(e.h,e.s,e.l,e.opacity);if(e instanceof se||(e=ie(e)),!e)return new T;if(e instanceof T)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,l=o-i,a=(o+i)/2;return l?(t===o?u=(n-r)/l+(n<r)*6:n===o?u=(r-t)/l+2:u=(t-n)/l+4,l/=a<.5?o+i:2-o-i,u*=60):l=a>0&&a<1?0:u,new T(u,l,a,e.opacity)}function Mi(e,t,n,r){return arguments.length===1?Zt(e):new T(e,t,n,r??1)}function T(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}je(T,Mi,Qt(se,{brighter(e){return e=e==null?be:Math.pow(be,e),new T(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ne:Math.pow(ne,e),new T(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new F(Te(e>=240?e-240:e+120,i,r),Te(e,i,r),Te(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new T(At(this.h),ve(this.s),ve(this.l),Ce(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ce(this.opacity);return`${e===1?"hsl(":"hsla("}${At(this.h)}, ${ve(this.s)*100}%, ${ve(this.l)*100}%${e===1?")":`, ${e})`}`}}));function At(e){return e=(e||0)%360,e<0?e+360:e}function ve(e){return Math.max(0,Math.min(1,e||0))}function Te(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Wt=e=>()=>e;function Vi(e,t){return function(n){return e+n*t}}function Oi(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Di(e){return(e=+e)==1?Gt:function(t,n){return n-t?Oi(t,n,e):Wt(isNaN(t)?n:t)}}function Gt(e,t){var n=t-e;return n?Vi(e,n):Wt(isNaN(e)?t:e)}const St=function e(t){var n=Di(t);function r(i,o){var u=n((i=Le(i)).r,(o=Le(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),f=Gt(i.opacity,o.opacity);return function(s){return i.r=u(s),i.g=l(s),i.b=a(s),i.opacity=f(s),i+""}}return r.gamma=e,r}(1);function P(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ie=new RegExp(Ue.source,"g");function Pi(e){return function(){return e}}function Hi(e){return function(t){return e(t)+""}}function Li(e,t){var n=Ue.lastIndex=Ie.lastIndex=0,r,i,o,u=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Ue.exec(e))&&(i=Ie.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[u]?l[u]+=o:l[++u]=o),(r=r[0])===(i=i[0])?l[u]?l[u]+=i:l[++u]=i:(l[++u]=null,a.push({i:u,x:P(r,i)})),n=Ie.lastIndex;return n<t.length&&(o=t.slice(n),l[u]?l[u]+=o:l[++u]=o),l.length<2?a[0]?Hi(a[0].x):Pi(t):(t=a.length,function(f){for(var s=0,c;s<t;++s)l[(c=a[s]).i]=c.x(f);return l.join("")})}var $t=180/Math.PI,Xe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jt(e,t,n,r,i,o){var u,l,a;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*$t,skewX:Math.atan(a)*$t,scaleX:u,scaleY:l}}var me;function Ui(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xe:Jt(t.a,t.b,t.c,t.d,t.e,t.f)}function Xi(e){return e==null||(me||(me=document.createElementNS("http://www.w3.org/2000/svg","g")),me.setAttribute("transform",e),!(e=me.transform.baseVal.consolidate()))?Xe:(e=e.matrix,Jt(e.a,e.b,e.c,e.d,e.e,e.f))}function jt(e,t,n,r){function i(f){return f.length?f.pop()+" ":""}function o(f,s,c,h,d,g){if(f!==c||s!==h){var v=d.push("translate(",null,t,null,n);g.push({i:v-4,x:P(f,c)},{i:v-2,x:P(s,h)})}else(c||h)&&d.push("translate("+c+t+h+n)}function u(f,s,c,h){f!==s?(f-s>180?s+=360:s-f>180&&(f+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:P(f,s)})):s&&c.push(i(c)+"rotate("+s+r)}function l(f,s,c,h){f!==s?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:P(f,s)}):s&&c.push(i(c)+"skewX("+s+r)}function a(f,s,c,h,d,g){if(f!==c||s!==h){var v=d.push(i(d)+"scale(",null,",",null,")");g.push({i:v-4,x:P(f,c)},{i:v-2,x:P(s,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(f,s){var c=[],h=[];return f=e(f),s=e(s),o(f.translateX,f.translateY,s.translateX,s.translateY,c,h),u(f.rotate,s.rotate,c,h),l(f.skewX,s.skewX,c,h),a(f.scaleX,f.scaleY,s.scaleX,s.scaleY,c,h),f=s=null,function(d){for(var g=-1,v=h.length,y;++g<v;)c[(y=h[g]).i]=y.x(d);return c.join("")}}}var zi=jt(Ui,"px, ","px)","deg)"),Yi=jt(Xi,", ",")",")"),Q=0,J=0,W=0,en=1e3,Ae,j,Se=0,z=0,Ee=0,oe=typeof performance=="object"&&performance.now?performance:Date,tn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function et(){return z||(tn(Ki),z=oe.now()+Ee)}function Ki(){z=0}function $e(){this._call=this._time=this._next=null}$e.prototype=nn.prototype={constructor:$e,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?et():+n)+(t==null?0:+t),!this._next&&j!==this&&(j?j._next=this:Ae=this,j=this),this._call=e,this._time=n,ze()},stop:function(){this._call&&(this._call=null,this._time=1/0,ze())}};function nn(e,t,n){var r=new $e;return r.restart(e,t,n),r}function Qi(){et(),++Q;for(var e=Ae,t;e;)(t=z-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Q}function Nt(){z=(Se=oe.now())+Ee,Q=J=0;try{Qi()}finally{Q=0,Wi(),z=0}}function Zi(){var e=oe.now(),t=e-Se;t>en&&(Ee-=t,Se=e)}function Wi(){for(var e,t=Ae,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ae=n);j=e,ze(r)}function ze(e){if(!Q){J&&(J=clearTimeout(J));var t=e-z;t>24?(e<1/0&&(J=setTimeout(Nt,e-oe.now()-Ee)),W&&(W=clearInterval(W))):(W||(Se=oe.now(),W=setInterval(Zi,en)),Q=1,tn(Nt))}}function Et(e,t,n){var r=new $e;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Gi=Mt("start","end","cancel","interrupt"),Ji=[],rn=0,kt=1,Ye=2,ye=3,Rt=4,Ke=5,we=6;function ke(e,t,n,r,i,o){var u=e.__transition;if(!u)e.__transition={};else if(n in u)return;ji(e,n,{name:t,index:r,group:i,on:Gi,tween:Ji,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:rn})}function tt(e,t){var n=B(e,t);if(n.state>rn)throw new Error("too late; already scheduled");return n}function V(e,t){var n=B(e,t);if(n.state>ye)throw new Error("too late; already running");return n}function B(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ji(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=nn(o,0,n.time);function o(f){n.state=kt,n.timer.restart(u,n.delay,n.time),n.delay<=f&&u(f-n.delay)}function u(f){var s,c,h,d;if(n.state!==kt)return a();for(s in r)if(d=r[s],d.name===n.name){if(d.state===ye)return Et(u);d.state===Rt?(d.state=we,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[s]):+s<t&&(d.state=we,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[s])}if(Et(function(){n.state===ye&&(n.state=Rt,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=Ye,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ye){for(n.state=ye,i=new Array(h=n.tween.length),s=0,c=-1;s<h;++s)(d=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=d);i.length=c+1}}function l(f){for(var s=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(a),n.state=Ke,1),c=-1,h=i.length;++c<h;)i[c].call(e,s);n.state===Ke&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=we,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function eo(e,t){var n=e.__transition,r,i,o=!0,u;if(n){t=t==null?null:t+"";for(u in n){if((r=n[u]).name!==t){o=!1;continue}i=r.state>Ye&&r.state<Ke,r.state=we,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[u]}o&&delete e.__transition}}function to(e){return this.each(function(){eo(this,e)})}function no(e,t){var n,r;return function(){var i=V(this,e),o=i.tween;if(o!==n){r=n=o;for(var u=0,l=r.length;u<l;++u)if(r[u].name===t){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function ro(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=V(this,e),u=o.tween;if(u!==r){i=(r=u).slice();for(var l={name:t,value:n},a=0,f=i.length;a<f;++a)if(i[a].name===t){i[a]=l;break}a===f&&i.push(l)}o.tween=i}}function io(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=B(this.node(),n).tween,i=0,o=r.length,u;i<o;++i)if((u=r[i]).name===e)return u.value;return null}return this.each((t==null?no:ro)(n,e,t))}function nt(e,t,n){var r=e._id;return e.each(function(){var i=V(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return B(i,r).value[t]}}function on(e,t){var n;return(typeof t=="number"?P:t instanceof ie?St:(n=ie(t))?(t=n,St):Li)(e,t)}function oo(e){return function(){this.removeAttribute(e)}}function uo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lo(e,t,n){var r,i=n+"",o;return function(){var u=this.getAttribute(e);return u===i?null:u===r?o:o=t(r=u,n)}}function ao(e,t,n){var r,i=n+"",o;return function(){var u=this.getAttributeNS(e.space,e.local);return u===i?null:u===r?o:o=t(r=u,n)}}function so(e,t,n){var r,i,o;return function(){var u,l=n(this),a;return l==null?void this.removeAttribute(e):(u=this.getAttribute(e),a=l+"",u===a?null:u===r&&a===i?o:(i=a,o=t(r=u,l)))}}function fo(e,t,n){var r,i,o;return function(){var u,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),a=l+"",u===a?null:u===r&&a===i?o:(i=a,o=t(r=u,l)))}}function co(e,t){var n=Ne(e),r=n==="transform"?Yi:on;return this.attrTween(e,typeof t=="function"?(n.local?fo:so)(n,r,nt(this,"attr."+e,t)):t==null?(n.local?uo:oo)(n):(n.local?ao:lo)(n,r,t))}function ho(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function po(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function go(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&po(e,o)),n}return i._value=t,i}function vo(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ho(e,o)),n}return i._value=t,i}function mo(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ne(e);return this.tween(n,(r.local?go:vo)(r,t))}function _o(e,t){return function(){tt(this,e).delay=+t.apply(this,arguments)}}function yo(e,t){return t=+t,function(){tt(this,e).delay=t}}function wo(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_o:yo)(t,e)):B(this.node(),t).delay}function xo(e,t){return function(){V(this,e).duration=+t.apply(this,arguments)}}function bo(e,t){return t=+t,function(){V(this,e).duration=t}}function Co(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xo:bo)(t,e)):B(this.node(),t).duration}function Ao(e,t){if(typeof t!="function")throw new Error;return function(){V(this,e).ease=t}}function So(e){var t=this._id;return arguments.length?this.each(Ao(t,e)):B(this.node(),t).ease}function $o(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;V(this,e).ease=n}}function No(e){if(typeof e!="function")throw new Error;return this.each($o(this._id,e))}function Eo(e){typeof e!="function"&&(e=Dt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],u=o.length,l=r[i]=[],a,f=0;f<u;++f)(a=o[f])&&e.call(a,a.__data__,f,o)&&l.push(a);return new D(r,this._parents,this._name,this._id)}function ko(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),u=new Array(r),l=0;l<o;++l)for(var a=t[l],f=n[l],s=a.length,c=u[l]=new Array(s),h,d=0;d<s;++d)(h=a[d]||f[d])&&(c[d]=h);for(;l<r;++l)u[l]=t[l];return new D(u,this._parents,this._name,this._id)}function Ro(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qo(e,t,n){var r,i,o=Ro(t)?tt:V;return function(){var u=o(this,e),l=u.on;l!==r&&(i=(r=l).copy()).on(t,n),u.on=i}}function Fo(e,t){var n=this._id;return arguments.length<2?B(this.node(),n).on.on(e):this.each(qo(n,e,t))}function To(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Io(){return this.on("end.remove",To(this._id))}function Bo(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ge(e));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var l=r[u],a=l.length,f=o[u]=new Array(a),s,c,h=0;h<a;++h)(s=l[h])&&(c=e.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),f[h]=c,ke(f[h],t,n,h,f,B(s,n)));return new D(o,this._parents,t,n)}function Mo(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ot(e));for(var r=this._groups,i=r.length,o=[],u=[],l=0;l<i;++l)for(var a=r[l],f=a.length,s,c=0;c<f;++c)if(s=a[c]){for(var h=e.call(s,s.__data__,c,a),d,g=B(s,n),v=0,y=h.length;v<y;++v)(d=h[v])&&ke(d,t,n,v,h,g);o.push(h),u.push(s)}return new D(o,u,t,n)}var Vo=ae.prototype.constructor;function Oo(){return new Vo(this._groups,this._parents)}function Do(e,t){var n,r,i;return function(){var o=K(this,e),u=(this.style.removeProperty(e),K(this,e));return o===u?null:o===n&&u===r?i:i=t(n=o,r=u)}}function un(e){return function(){this.style.removeProperty(e)}}function Po(e,t,n){var r,i=n+"",o;return function(){var u=K(this,e);return u===i?null:u===r?o:o=t(r=u,n)}}function Ho(e,t,n){var r,i,o;return function(){var u=K(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),K(this,e))),u===a?null:u===r&&a===i?o:(i=a,o=t(r=u,l))}}function Lo(e,t){var n,r,i,o="style."+t,u="end."+o,l;return function(){var a=V(this,e),f=a.on,s=a.value[o]==null?l||(l=un(t)):void 0;(f!==n||i!==s)&&(r=(n=f).copy()).on(u,i=s),a.on=r}}function Uo(e,t,n){var r=(e+="")=="transform"?zi:on;return t==null?this.styleTween(e,Do(e,r)).on("end.style."+e,un(e)):typeof t=="function"?this.styleTween(e,Ho(e,r,nt(this,"style."+e,t))).each(Lo(this._id,e)):this.styleTween(e,Po(e,r,t),n).on("end.style."+e,null)}function Xo(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function zo(e,t,n){var r,i;function o(){var u=t.apply(this,arguments);return u!==i&&(r=(i=u)&&Xo(e,u,n)),r}return o._value=t,o}function Yo(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,zo(e,t,n??""))}function Ko(e){return function(){this.textContent=e}}function Qo(e){return function(){var t=e(this);this.textContent=t??""}}function Zo(e){return this.tween("text",typeof e=="function"?Qo(nt(this,"text",e)):Ko(e==null?"":e+""))}function Wo(e){return function(t){this.textContent=e.call(this,t)}}function Go(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Wo(i)),t}return r._value=e,r}function Jo(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Go(e))}function jo(){for(var e=this._name,t=this._id,n=ln(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],l=u.length,a,f=0;f<l;++f)if(a=u[f]){var s=B(a,t);ke(a,e,n,f,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new D(r,this._parents,e,n)}function eu(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,u){var l={value:u},a={value:function(){--i===0&&o()}};n.each(function(){var f=V(this,r),s=f.on;s!==e&&(t=(e=s).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),f.on=t}),i===0&&o()})}var tu=0;function D(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ln(){return++tu}var O=ae.prototype;D.prototype={constructor:D,select:Bo,selectAll:Mo,selectChild:O.selectChild,selectChildren:O.selectChildren,filter:Eo,merge:ko,selection:Oo,transition:jo,call:O.call,nodes:O.nodes,node:O.node,size:O.size,empty:O.empty,each:O.each,on:Fo,attr:co,attrTween:mo,style:Uo,styleTween:Yo,text:Zo,textTween:Jo,remove:Io,tween:io,delay:wo,duration:Co,ease:So,easeVarying:No,end:eu,[Symbol.iterator]:O[Symbol.iterator]};function nu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ru={time:null,delay:0,duration:250,ease:nu};function iu(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ou(e){var t,n;e instanceof D?(t=e._id,e=e._name):(t=ln(),(n=ru).time=et(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],l=u.length,a,f=0;f<l;++f)(a=u[f])&&ke(a,e,t,f,u,n||iu(a,t));return new D(r,this._parents,e,t)}ae.prototype.interrupt=to;ae.prototype.transition=ou;var qt={},Be={},Me=34,G=10,Ve=13;function an(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function uu(e,t){var n=an(e);return function(r,i){return t(n(r),i,e)}}function Ft(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function R(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function lu(e){return e<0?"-"+R(-e,6):e>9999?"+"+R(e,6):R(e,4)}function au(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":lu(e.getUTCFullYear())+"-"+R(e.getUTCMonth()+1,2)+"-"+R(e.getUTCDate(),2)+(i?"T"+R(t,2)+":"+R(n,2)+":"+R(r,2)+"."+R(i,3)+"Z":r?"T"+R(t,2)+":"+R(n,2)+":"+R(r,2)+"Z":n||t?"T"+R(t,2)+":"+R(n,2)+"Z":"")}function su(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(c,h){var d,g,v=i(c,function(y,m){if(d)return d(y,m-1);g=y,d=h?uu(y,h):an(y)});return v.columns=g||[],v}function i(c,h){var d=[],g=c.length,v=0,y=0,m,A=g<=0,E=!1;c.charCodeAt(g-1)===G&&--g,c.charCodeAt(g-1)===Ve&&--g;function w(){if(A)return Be;if(E)return E=!1,qt;var C,$=v,N;if(c.charCodeAt($)===Me){for(;v++<g&&c.charCodeAt(v)!==Me||c.charCodeAt(++v)===Me;);return(C=v)>=g?A=!0:(N=c.charCodeAt(v++))===G?E=!0:N===Ve&&(E=!0,c.charCodeAt(v)===G&&++v),c.slice($+1,C-1).replace(/""/g,'"')}for(;v<g;){if((N=c.charCodeAt(C=v++))===G)E=!0;else if(N===Ve)E=!0,c.charCodeAt(v)===G&&++v;else if(N!==n)continue;return c.slice($,C)}return A=!0,c.slice($,g)}for(;(m=w())!==Be;){for(var S=[];m!==qt&&m!==Be;)S.push(m),m=w();h&&(S=h(S,y++))==null||d.push(S)}return d}function o(c,h){return c.map(function(d){return h.map(function(g){return s(d[g])}).join(e)})}function u(c,h){return h==null&&(h=Ft(c)),[h.map(s).join(e)].concat(o(c,h)).join(`
`)}function l(c,h){return h==null&&(h=Ft(c)),o(c,h).join(`
`)}function a(c){return c.map(f).join(`
`)}function f(c){return c.map(s).join(e)}function s(c){return c==null?"":c instanceof Date?au(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:u,formatBody:l,formatRows:a,formatRow:f,formatValue:s}}var fu=su(","),cu=fu.parse;function hu(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function du(){return this.eachAfter(hu)}function pu(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function gu(e,t){for(var n=this,r=[n],i,o,u=-1;n=r.pop();)if(e.call(t,n,++u,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function vu(e,t){for(var n=this,r=[n],i=[],o,u,l,a=-1;n=r.pop();)if(i.push(n),o=n.children)for(u=0,l=o.length;u<l;++u)r.push(o[u]);for(;n=i.pop();)e.call(t,n,++a,this);return this}function mu(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function _u(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function yu(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function wu(e){for(var t=this,n=xu(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function xu(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function bu(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Cu(){return Array.from(this)}function Au(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Su(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*$u(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function sn(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=ku)):t===void 0&&(t=Eu);for(var n=new ue(e),r,i=[n],o,u,l,a;r=i.pop();)if((u=t(r.data))&&(a=(u=Array.from(u)).length))for(r.children=u,l=a-1;l>=0;--l)i.push(o=u[l]=new ue(u[l])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(fn)}function Nu(){return sn(this).eachBefore(Ru)}function Eu(e){return e.children}function ku(e){return Array.isArray(e)?e[1]:null}function Ru(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function fn(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function ue(e){this.data=e,this.depth=this.height=0,this.parent=null}ue.prototype=sn.prototype={constructor:ue,count:du,each:pu,eachAfter:vu,eachBefore:gu,find:mu,sum:_u,sort:yu,path:wu,ancestors:bu,descendants:Cu,leaves:Au,links:Su,copy:Nu,[Symbol.iterator]:$u};function Oe(e){return e==null?null:qu(e)}function qu(e){if(typeof e!="function")throw new Error;return e}var Fu={depth:-1},Tt={},De={};function Tu(e){return e.id}function Iu(e){return e.parentId}function Bu(){var e=Tu,t=Iu,n;function r(i){var o=Array.from(i),u=e,l=t,a,f,s,c,h,d,g,v,y=new Map;if(n!=null){const m=o.map((w,S)=>Mu(n(w,S,i))),A=m.map(It),E=new Set(m).add("");for(const w of A)E.has(w)||(E.add(w),m.push(w),A.push(It(w)),o.push(De));u=(w,S)=>m[S],l=(w,S)=>A[S]}for(s=0,a=o.length;s<a;++s)f=o[s],d=o[s]=new ue(f),(g=u(f,s,i))!=null&&(g+="")&&(v=d.id=g,y.set(v,y.has(v)?Tt:d)),(g=l(f,s,i))!=null&&(g+="")&&(d.parent=g);for(s=0;s<a;++s)if(d=o[s],g=d.parent){if(h=y.get(g),!h)throw new Error("missing: "+g);if(h===Tt)throw new Error("ambiguous: "+g);h.children?h.children.push(d):h.children=[d],d.parent=h}else{if(c)throw new Error("multiple roots");c=d}if(!c)throw new Error("no root");if(n!=null){for(;c.data===De&&c.children.length===1;)c=c.children[0],--a;for(let m=o.length-1;m>=0&&(d=o[m],d.data===De);--m)d.data=null}if(c.parent=Fu,c.eachBefore(function(m){m.depth=m.parent.depth+1,--a}).eachBefore(fn),c.parent=null,a>0)throw new Error("cycle");return c}return r.id=function(i){return arguments.length?(e=Oe(i),r):e},r.parentId=function(i){return arguments.length?(t=Oe(i),r):t},r.path=function(i){return arguments.length?(n=Oe(i),r):n},r}function Mu(e){e=`${e}`;let t=e.length;return Qe(e,t-1)&&!Qe(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function It(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Qe(e,t););return e.slice(0,t)}function Qe(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function ee(e,t,n){this.k=e,this.x=t,this.y=n}ee.prototype={constructor:ee,scale:function(e){return e===1?this:new ee(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ee(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ee.prototype;const Ju=$n("tables",()=>{const e=q(null),t=b(()=>i(e.value)),n=b(()=>o(t.value)),r=b(()=>u(t.value));function i(l){if(l){const a=cu(l);return console.log("computed rows: ",a),a}else return null}function o(l){function a(f){const s={...f.data,children:f.children?f.children.map(a):void 0};return s.children?.length||delete s.children,s}if(l){l.push({identifier:"top",hierarcylevel:"",type:"",prefLabel:"Thesaurus",altLabel:"",translation:"",description:"",parent:"",related:"",source:"",creator:"",closeMatch:"",relatedMatch:"",seeAlso:""}),console.log("modified rows: ",l);const f=Bu().id(c=>c.identifier).parentId(c=>c.parent)(l),s=[a(f)];return console.log("computed hierarchy: ",s),s}else return null}function u(l){if(l){const a={};for(let f=0;f<l.length;f++)a[l[f].identifier]=l[f];return console.log("computed conceptDict: ",a),a}else return null}return{csv:e,rows:t,hierarchy:n,conceptObject:r,createRows:i,createHierarchy:o,createConceptObject:u}}),Vu=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Ou=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Du=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Pu=/[a-z0-9_ -]$/i;function ju(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Nn.is.firefox===!0?Pu.test(n.data)===!1:Vu.test(n.data)===!0||Ou.test(n.data)===!0||Du.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}export{Ln as a,Wu as b,Gu as c,Ju as d,Dn as e,Hn as f,Qu as g,Yu as h,ju as i,Ku as r,Zu as u};
